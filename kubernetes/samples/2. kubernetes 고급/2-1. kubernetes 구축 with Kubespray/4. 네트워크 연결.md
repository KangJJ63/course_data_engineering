---
style: |
  img {
    display: block;
    float: none;
    margin-left: auto;
    margin-right: auto;
  }
marp: true
paginate: true
---
# master & worker 모두 적용 

---
### 단계1: ip 확인 
- master: 192.168.123.155
- worker: 192.168.123.182
```shell
ifconfig
```
![alt text](./img/image-17.png)

---
### 단계2: hosts
- 서버끼리 서로 알 수 있도록 hosts 정보도 등록해주자.
```shell
sudo vim /etc/hosts
# 아래와 같이 입력 (ip는 위에서 확인)
192.168.123.155 master
192.168.123.182 worker
```
![alt text](./img/image-18.png)

---
### 단계3: ssh-key 생성
```shell
ssh-keygen # enter 3번 입력 
```
![alt text](./img/image-19.png)

---
### 단계4: sshd_config 수정 
```shell
sudo vim /etc/ssh/sshd_config

# sshd_config파일에서 아래와 같이 수정 
PermitRootLogin yes # (root 로그인 허용여부를 결정함,yes, no, without-password를 사용할 수 있음) 
PasswordAuthentication yes # (열쇠글 인증을 설정하는 것으로 프로토콜 버전 1과 2 모두 적용) 
```
![alt text](./img/image-20.png)

---
### 단계5: ssh restart
```shell
# 재실행 
sudo systemctl restart sshd
# 확인 
systemctl status sshd
```
![alt text](./img/image-21.png)

---
### 단계6: ssh public key 교환 작업 
- 입력순서: yes & 비번 
```shell
ssh-copy-id master
ssh-copy-id worker
```
![alt text](./img/image-22.png)

---
### 단계7: ssh 접속 테스트 
```shell
ssh master
ssh worker
```
![alt text](./img/image-23.png)


