---
style: |
  img {
    display: block;
    float: none;
    margin-left: auto;
    margin-right: auto;
  }
marp: true
paginate: true
---
### 단계1: mysql 설치 
```shell
# 설치 
sudo apt-get install mysql-server -y
# 설치 확인 
sudo service mysql status
# 만약 상태값이 active가 아니면, 서버 재실행 
sudo service mysql restart
# 포트 확인
sudo ss -tap | grep mysql 
```
![Alt text](./img/image.png)

---
### 단계2: mysql 접속 
```shell
sudo mysql -u root -p # 초기비번: password
exit; # mysql 나오기 
```
![Alt text](./img/image-1.png)

---
### 단계3: 보안설정 
```shell
sudo mysql_secure_installation
```
![Alt text](image.png)

---
![Alt text](image-1.png)

---
### 단계3: hive 유저 생성  
```shell
sudo mysql -u root -p # 초기비번: password
```
```sql
-- 패스워드 정책변경
set global validate_password.policy=LOW;
set global validate_password.length=6;
show variables like 'validate_password%';
-- 유저 생성
create user 'hive'@'%' identified by '123456';
-- 유저 조회 
select user, host from mysql.user;
```
![bg right w:600](image-2.png)

---
### 단계4: 데이터베이스 생성 및 권한 부여 
```shell
# metastore 데이터베이스 생성 
create database metastore default character set utf8;
# 권한 부여 > sqoop 테스트를 위해서 모든 권한 부여 
grant all privileges on *.* to 'hive'@'%';
# 권한 반영 
flush privileges;
```
![Alt text](./img/image-2.png)

---
- hive 유저로 접속 테스트 
```shell
# mysql에서 나오기 
exit 
# mysql 접속하기 
sudo mysql -u hive -p # 비번: 123456
```
![Alt text](./img/image-3.png)

---
### 옵션: MySQL 삭제 
```shell
# mysql 제거 
sudo apt-get purge mysql-client mysql-common mysql-server-core-* mysql-client-core-*
# 관련 폴더 제거 
sudo rm -rf /etc/mysql /var/lib/mysql
sudo apt-get autoremove
sudo apt-get autoclean
```



