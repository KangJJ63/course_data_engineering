---
style: |
  img {
    display: block;
    float: none;
    margin-left: auto;
    margin-right: auto;
  }
marp: true
paginate: true
---
### 단계1: master > NameNode 상태 확인 
```shell
hdfs haadmin -getServiceState namenode1 
hdfs haadmin -getServiceState namenode2
```
![Alt text](./img/image-30.png)

---
### 단계2: master > NameNode kill
```shell
# jps 프로세스 확인
jps

1664 NameNode
2786 JobHistoryServer
4359 Jps

# NameNode 프로세스 kill
kill -9 1664
```
![bg right w:600](./img/image-31.png)

---
- 결과 확인 
```shell
# NameNode1 상태 확인
hdfs haadmin -getServiceState namenode1 # error
# NameNode2 상태 확인
hdfs haadmin -getServiceState namenode2 # active
```
![Alt text](./img/image-32.png)

---
- hadoop web ui & yarn web ui 확인 

![Alt text](./img/image-34.png)

---
### 단계3: worker1 > Hadoop 예제 테스트
```shell
yarn jar  $HADOOP_HOME/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.3.jar pi 16 1000
```
![Alt text](./img/image-33.png)



